<Window x:Class="PcOptimizationTool.Views.RestorePointDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Harris Tweaks — Restore Point"
        Width="420" Height="440"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        ShowInTaskbar="False"
        WindowStyle="None"
        Background="White">
    <Window.Resources>
        <FontFamily x:Key="PixelFont">pack://application:,,,/Fonts/#Press Start 2P</FontFamily>
        <FontFamily x:Key="SilkscreenFont">pack://application:,,,/Fonts/#Silkscreen</FontFamily>
        <FontFamily x:Key="VT323Font">pack://application:,,,/Fonts/#VT323</FontFamily>
    </Window.Resources>

    <Grid Background="White" MouseLeftButtonDown="Window_MouseLeftButtonDown">

        <!-- ── Corner pixel squares ── -->
        <Rectangle Width="10" Height="10" Fill="#1A1A1A"
                   HorizontalAlignment="Left"  VerticalAlignment="Top"/>
        <Rectangle Width="10" Height="10" Fill="#1A1A1A"
                   HorizontalAlignment="Right" VerticalAlignment="Top"/>
        <Rectangle Width="10" Height="10" Fill="#1A1A1A"
                   HorizontalAlignment="Left"  VerticalAlignment="Bottom"/>
        <Rectangle Width="10" Height="10" Fill="#1A1A1A"
                   HorizontalAlignment="Right" VerticalAlignment="Bottom"/>

        <!-- ── X close button (acts as skip) ── -->
        <Button HorizontalAlignment="Right" VerticalAlignment="Top"
                Margin="0,18,20,0" Cursor="Hand"
                Click="CancelButton_Click">
            <Button.Template>
                <ControlTemplate TargetType="Button">
                    <TextBlock Text="X"
                               FontFamily="{StaticResource PixelFont}" FontSize="9"
                               Foreground="#1A1A1A"
                               HorizontalAlignment="Center" VerticalAlignment="Center"/>
                </ControlTemplate>
            </Button.Template>
        </Button>

        <!-- ── Main content ── -->
        <StackPanel Margin="36,28,36,36" VerticalAlignment="Center">

            <!-- Restore icon in circle -->
            <Border Width="62" Height="62" CornerRadius="31"
                    BorderBrush="#6B21A8" BorderThickness="2"
                    Background="Transparent"
                    HorizontalAlignment="Center" Margin="0,0,0,16">
                <TextBlock Text="↺"
                           FontSize="30" Foreground="#6B21A8"
                           HorizontalAlignment="Center" VerticalAlignment="Center"
                           Margin="0,0,0,3"/>
            </Border>

            <!-- Title -->
            <TextBlock Text="RESTORE POINT"
                       FontFamily="{StaticResource PixelFont}"
                       FontSize="11" FontWeight="Bold"
                       Foreground="#1A1A1A"
                       HorizontalAlignment="Center"
                       TextWrapping="Wrap" TextAlignment="Center"
                       Margin="0,0,0,10"/>

            <!-- Description -->
            <TextBlock FontFamily="{StaticResource VT323Font}"
                       FontSize="15" Foreground="#888888"
                       HorizontalAlignment="Center"
                       TextAlignment="Center" TextWrapping="Wrap"
                       Margin="0,0,0,16"
                       Text="Before applying tweaks, create a system restore point so you can roll back if anything goes wrong."/>

            <!-- Description input -->
            <Border BorderBrush="#1A1A1A" BorderThickness="1.5,1.5,3,3"
                    Background="#F6F6F6" Margin="0,0,0,6">
                <TextBox x:Name="DescriptionTextBox"
                         FontFamily="{StaticResource VT323Font}" FontSize="16"
                         Padding="12,12"
                         BorderThickness="0" Background="Transparent"
                         Text="Harris Tweaks — Before Applying" TextChanged="DescriptionTextBox_TextChanged" Foreground="Black"/>
            </Border>

            <!-- Status text -->
            <TextBlock x:Name="StatusText"
                       FontFamily="{StaticResource SilkscreenFont}" FontSize="7"
                       Foreground="#777777" TextWrapping="Wrap"
                       Margin="0,0,0,10" MinHeight="14"/>

            <!-- Buttons: SKIP + CREATE -->
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="10"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Skip button -->
                <Button x:Name="CancelButton"
                        Click="CancelButton_Click" Cursor="Hand" HorizontalAlignment="Center" Width="169">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border x:Name="Bd"
                                    Background="White"
                                    BorderBrush="#1A1A1A" BorderThickness="2,2,4,4"
                                    Padding="0,14">
                                <TextBlock Text="SKIP"
                                           HorizontalAlignment="Center"
                                           FontFamily="{StaticResource SilkscreenFont}"
                                           FontSize="9" FontWeight="Bold"
                                           Foreground="#1A1A1A"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="Bd" Property="Background" Value="#F5F0E8"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                </Button>

                <!-- Create button -->
                <Button x:Name="CreateButton" Grid.Column="2"
                        Click="CreateButton_Click" Cursor="Hand" HorizontalAlignment="Center" Width="169">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border x:Name="Bd"
                                    Background="#6B21A8"
                                    BorderBrush="#4B0082" BorderThickness="0,0,3,3"
                                    Padding="0,14">
                                <TextBlock Text="CREATE"
                                           HorizontalAlignment="Center"
                                           FontFamily="{StaticResource SilkscreenFont}"
                                           FontSize="9" FontWeight="Bold"
                                           Foreground="White"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="Bd" Property="Background" Value="#7C3AED"/>
                                </Trigger>
                                <Trigger Property="IsEnabled" Value="False">
                                    <Setter TargetName="Bd" Property="Background" Value="#B0A0C8"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                </Button>

            </Grid>
        </StackPanel>
    </Grid>
</Window>
